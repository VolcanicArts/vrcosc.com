"use strict";(self.webpackChunkvrcosc_docs=self.webpackChunkvrcosc_docs||[]).push([[433],{9385:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>h,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>r});var n=i(4848),a=i(8453);const o={sidebar_position:3,description:"Understand how to use the ChatBox system"},s="ChatBox",l={id:"V2/chatbox",title:"ChatBox",description:"Understand how to use the ChatBox system",source:"@site/docs/V2/chatbox.md",sourceDirName:"V2",slug:"/V2/chatbox",permalink:"/docs/V2/chatbox",draft:!1,unlisted:!1,editUrl:"https://github.com/VolcanicArts/VRCOSC/docs/V2/chatbox.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,description:"Understand how to use the ChatBox system"},sidebar:"tutorialSidebar",previous:{title:"Router",permalink:"/docs/V2/router"},next:{title:"Modules",permalink:"/docs/category/modules"}},h={},r=[{value:"Keywords",id:"keywords",level:2},{value:"Management",id:"management",level:2},{value:"Controls",id:"controls",level:2},{value:"Timings",id:"timings",level:2},{value:"Clips",id:"clips",level:2},{value:"Built-In",id:"built-in",level:3},{value:"States and Events",id:"states-and-events",level:3},{value:"Variables",id:"variables",level:3},{value:"Multi-module Clips",id:"multi-module-clips",level:3},{value:"Validation",id:"validation",level:3},{value:"Testing",id:"testing",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"chatbox",children:"ChatBox"}),"\n",(0,n.jsxs)(t.p,{children:["The ChatBox system is essentially an animation system for VRChat's ChatBox . It provides an extensive featureset to let you customise the way the ChatBox looks in-game from any module that has support for the ChatBox. Below is an explanation of how the different features work. Please reach out on the ",(0,n.jsx)(t.a,{href:"https://discord.gg/vj4brHyvT5",children:"Discord Server"})," if you need more help or feel this documentation could be more detailed."]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"On the run page in the ChatBox tab, you can popout a preview of the ChatBox so you can edit the timeline while seeing realtime changes without having to have VRChat open."})}),"\n",(0,n.jsx)(t.h2,{id:"keywords",children:"Keywords"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Timeline - The bottom half of the screen where all Clips are kept"}),"\n",(0,n.jsx)(t.li,{children:"Layer - A single part of the Timeline. 32 layers are stacked make the Timeline"}),"\n",(0,n.jsx)(t.li,{children:"Clip - A single part of a Layer that is linked to modules"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"management",children:"Management"}),"\n",(0,n.jsx)(t.p,{children:"The top left of ChatBox page contains buttons for importing and exporting a config, as well as clearing the timeline."}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsx)(t.p,{children:"Always take frequent backups of your chatbox configs if you have complicated setups!"})}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsx)(t.p,{children:"When changing the length of the timeline to be less than it currently is, clips will shrink to fit to the new length. If the new length is less than the start time of a clip the clip will be deleted."})}),"\n",(0,n.jsx)(t.h2,{id:"controls",children:"Controls"}),"\n",(0,n.jsx)(t.p,{children:"Right clicking any layer will give you the option to add a clip to it. Right clicking any clip will give you the option to delete it. You can resize a clip by dragging either end, and can move a clip by dragging anywhere in the middle. You can move a clip between layers by dragging from the middle of a clip into any empty space in a layer. This clip will resize if needed."}),"\n",(0,n.jsx)(t.h2,{id:"timings",children:"Timings"}),"\n",(0,n.jsx)(t.p,{children:"The Timeline lasts 60 seconds by default, whereby every 60 seconds the Timeline will loop back to the start. Clips that are present on the timeline are snapped in intervals of 1 second. You can adjust the length using the control on the left side of the page."}),"\n",(0,n.jsx)(t.h2,{id:"clips",children:"Clips"}),"\n",(0,n.jsx)(t.p,{children:"Clips are a way of managing the text of the ChatBox at a certain point in time, based on the evaluation of linked modules' states and events. For example, if I create a Clip on the top layer and tick the Media module, the Clip is now registered as following the states and events for the Media module."}),"\n",(0,n.jsx)(t.h3,{id:"built-in",children:"Built-In"}),"\n",(0,n.jsx)(t.p,{children:"With no modules linked, a Clip will have a default state that lets you write text so you don't have to link a random module anymore."}),"\n",(0,n.jsx)(t.p,{children:"There are also some built-in variables that are always available to use:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Custom Text - This is for writing custom text that allows you to also use the functionality of variables"}),"\n",(0,n.jsx)(t.li,{children:"Focused Window - This is the window you're currently focused on"}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["If you have any ideas for more built-in variables, please let me know in the ",(0,n.jsx)(t.a,{href:"https://discord.gg/vj4brHyvT5",children:"Discord Server"})]}),"\n",(0,n.jsx)(t.h3,{id:"states-and-events",children:"States and Events"}),"\n",(0,n.jsx)(t.p,{children:"Each state and event has a checkbox in the top left. This indicates whether you want to handle that state/event."}),"\n",(0,n.jsxs)(t.p,{children:["Using our example from earlier, if we only tick the ",(0,n.jsx)(t.code,{children:"Media (Playing)"})," state, and leave the ",(0,n.jsx)(t.code,{children:"Media (Paused)"})," state unticked, that means that for this Clip to be valid the Media module must be in the ",(0,n.jsx)(t.code,{children:"Playing"})," state. If it is, the format is used and sent to the ChatBox. If the Media module is in the ",(0,n.jsx)(t.code,{children:"Paused"})," state, the ChatBox is cleared as the Paused state is unticked and there are no other valid clips."]}),"\n",(0,n.jsx)(t.p,{children:"Events take priority over states. If an event occurs, even if there is a valid state, the event will display for the time set by you. The behaviour of how events prioritise between themselves is controlled by the event behaviour. Override means that if there is already an event occurring, the new event will take over. Queue means that if there is already an event occuring, the new event will wait for the current event to end. Ignore means that if there is already an event occurring, the new event will not be handled."}),"\n",(0,n.jsx)(t.p,{children:"There are also several other settings that are present for both states and events:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Show Typing Indicator will mean that when that state or event is active it will show the typing animation next to the ChatBox in-game."}),"\n",(0,n.jsx)(t.li,{children:"Use Minimal Background will use some character tricks to remove the background from the ChatBox in-game. This can make large ChatBoxes less intrusive."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"variables",children:"Variables"}),"\n",(0,n.jsxs)(t.p,{children:["Variables are instances, which allow you to customise how the variable is formatted. To add a variable to a state or event, drag the variable you want from the right sidebar onto the ",(0,n.jsx)(t.code,{children:"Drop Variable"})," area of the state or event. The way to reference a variable in the format is to use ",(0,n.jsx)(t.code,{children:"{0}"}),", where the number corresponds to the 0th-based placement in the variable list. For example, if I had 2 variables and I wanted to reference the 2nd variable, I'd put ",(0,n.jsx)(t.code,{children:"{1}"})," in the format."]}),"\n",(0,n.jsxs)(t.p,{children:["To customise a variable instance, click on the cog button. Depending on the type of variable (bool, int, float, string, DateTime, TimeSpan), you will see different options. Some options will be available in all instances, however, as they're part of the base variable implementation. This means that there is no more ChatBox Text or Ticker Tape modules. Every variable can ticker tape. There are also specific settings for things like ",(0,n.jsx)(t.code,{children:"DateTime"})," which means you can format the time however you like rather than having to do ",(0,n.jsx)(t.code,{children:"{clock.h}:{clock.m}"})]}),"\n",(0,n.jsx)(t.h3,{id:"multi-module-clips",children:"Multi-module Clips"}),"\n",(0,n.jsx)(t.p,{children:"All Clips are allowed to have multiple modules linked to them. This is what allows for multiple modules' states and events to be handled and their variables to be put into the same Clip."}),"\n",(0,n.jsx)(t.p,{children:"When multiple modules are linked to a Clip, states are compounded together to give you control over what to show in the Clip no matter what state any of the associated modules are in."}),"\n",(0,n.jsx)(t.p,{children:"For example, if we tick the Media and Clock module, the only states that will occur are:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Media (Playing) & Clock"}),"\n",(0,n.jsx)(t.li,{children:"Media (Paused) & Clock"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"This is because Clock only has a single default state, so 2 * 1 = 2. This does mean that the number of states and events can grow very quickly the more modules you add, so only link the modules you need."}),"\n",(0,n.jsxs)(t.p,{children:['If any module you have ticked in the "Select Modules" is disabled on the module listing page, the states and events that contain that module will be filtered out by the ',(0,n.jsx)(t.code,{children:"Show Relevant Elements Only"})," button. Unticking this will show you all the generated states and events, however it's recommended to keep this ticked as it shows you how the Clip will behave when it's running based on the enabled modules on the module listing page."]}),"\n",(0,n.jsx)(t.h3,{id:"validation",children:"Validation"}),"\n",(0,n.jsx)(t.p,{children:"Clips are evaluated for their validity at the Timeline's current time. The following steps are done to evaluate a clip:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Is the Clip Enabled?"}),"\n",(0,n.jsx)(t.li,{children:"Is the Clip covering the Timeline's current time?"}),"\n",(0,n.jsxs)(t.li,{children:["Is there currently a triggered event that is ticked ",(0,n.jsx)(t.strong,{children:"OR"})," are all the modules that are linked to a clip in a state that is ticked?"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"If a Clip is deemed invalid then the ChatBox will check the next layer down for a valid Clip. If no valid Clips are found, the ChatBox will be cleared."}),"\n",(0,n.jsx)(t.p,{children:"This evaluation step is done based on the ChatBox Time Span setting in the settings screen. VRChat's default is every 1.5 seconds."}),"\n",(0,n.jsx)(t.h3,{id:"testing",children:"Testing"}),"\n",(0,n.jsx)(t.p,{children:"Run the modules and the ChatBox system will start. In the ChatBox tab on the run page you can see a preview of the ChatBox. The preview won't respect some of the options due to technical limitations, and some of the Unicode icon sizes will be incorrect if many are used at once, but it's a good starting point if you don't want to have VRChat open. The preview is also able to be popped out into its own window so you can see it while making changes to the timeline."}),"\n",(0,n.jsx)(t.p,{children:"The timeline's chosen clip will have a yellow border, and inside that clip the chosen state/event will also have a yellow border. This is to help with debugging which clips and which states/events are being chosen."})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>l});var n=i(6540);const a={},o=n.createContext(a);function s(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);