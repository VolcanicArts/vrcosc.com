"use strict";(self.webpackChunkvrcosc_com=self.webpackChunkvrcosc_com||[]).push([[588],{2048:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var i=n(4848),s=n(8453);const o={sidebar_position:4,description:"Create and use module settings"},l="Settings",a={id:"V2/SDK/settings",title:"Settings",description:"Create and use module settings",source:"@site/docs/V2/SDK/settings.md",sourceDirName:"V2/SDK",slug:"/V2/SDK/settings",permalink:"/docs/V2/SDK/settings",draft:!1,unlisted:!1,editUrl:"https://github.com/VolcanicArts/VRCOSC/docs/V2/SDK/settings.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"Create and use module settings"},sidebar:"tutorialSidebar",previous:{title:"Flow",permalink:"/docs/V2/SDK/flow"},next:{title:"Parameters",permalink:"/docs/V2/SDK/parameters"}},r={},d=[{value:"Creating Settings",id:"creating-settings",level:2},{value:"Toggle",id:"toggle",level:3},{value:"TextBox",id:"textbox",level:3},{value:"Slider",id:"slider",level:3},{value:"Dropdown",id:"dropdown",level:3},{value:"DateTime",id:"datetime",level:3},{value:"TextBox List",id:"textbox-list",level:3},{value:"Custom",id:"custom",level:3},{value:"Groups",id:"groups",level:2},{value:"Retrieving Settings",id:"retrieving-settings",level:2}];function c(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"settings",children:"Settings"})}),"\n",(0,i.jsxs)(t.p,{children:["Settings are a way of letting a user configure your module. Settings are static, and are required to be defined inside ",(0,i.jsx)(t.code,{children:"OnPreLoad"})," so that a user's settings can be loaded when the module loads."]}),"\n",(0,i.jsx)(t.h2,{id:"creating-settings",children:"Creating Settings"}),"\n",(0,i.jsx)(t.h3,{id:"toggle",children:"Toggle"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateToggle(MyModule.ToggleSetting, "Toggle Title", "Toggle Description", false);\n'})}),"\n",(0,i.jsx)(t.p,{children:"Toggles take in the setting lookup, display title, display description, and the default value."}),"\n",(0,i.jsxs)(t.p,{children:["Backing type: ",(0,i.jsx)(t.code,{children:"bool"})]}),"\n",(0,i.jsx)(t.h3,{id:"textbox",children:"TextBox"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateTextBox(MyModule.TextBoxStringSetting, "String Title", "String Description", string.Empty);\r\nCreateTextBox(MyModule.TextBoxIntSetting, "Int Title", "Int Description", 0);\r\nCreateTextBox(MyModule.TextBoxFloatSetting, "Float Title", "Float Description", 0f);\n'})}),"\n",(0,i.jsx)(t.p,{children:"TextBoxes take the setting lookup, display title, display description, and the default value. TextBoxes support strings, ints, and floats, where the validation will be automatically handled for you."}),"\n",(0,i.jsxs)(t.p,{children:["Backing type: ",(0,i.jsx)(t.code,{children:"string"})]}),"\n",(0,i.jsx)(t.h3,{id:"slider",children:"Slider"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateSlider(MyModule.SliderIntSetting, "Int Title", "Int Description", 0, 0, 10);\r\nCreateSlider(MyModule.SliderFloatSetting, "Float Title", "Float Description", 0f, 0f, 1f);\n'})}),"\n",(0,i.jsx)(t.p,{children:"Sliders take the setting lookup, display title, display description, the default value, the minimum value, and the maximum value."}),"\n",(0,i.jsxs)(t.p,{children:["Backing type: ",(0,i.jsx)(t.code,{children:"int"}),"/",(0,i.jsx)(t.code,{children:"float"})," (depending on which slider you enter)"]}),"\n",(0,i.jsx)(t.h3,{id:"dropdown",children:"Dropdown"}),"\n",(0,i.jsx)(t.p,{children:"Note: Dropdowns only accept enums as settings are required to be static. If you need to populate a dynamic list, look at the runtime page."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateDropdown(MyModule.DropdownSetting, "Dropdown Title", "Dropdown Description", SomeEnum.SomeValue)\n'})}),"\n",(0,i.jsx)(t.p,{children:"Dropdowns take the setting lookup, display title, display description, and the default value. The default value also tells the setting which enum to use to populate the dropdown."}),"\n",(0,i.jsxs)(t.p,{children:["Backing type: ",(0,i.jsx)(t.code,{children:"SomeEnum"})]}),"\n",(0,i.jsx)(t.h3,{id:"datetime",children:"DateTime"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateDateTime(MyModule.DateTimeSetting, "DateTime Title", "DateTime Description", DateTimeOffset.Now);\n'})}),"\n",(0,i.jsx)(t.p,{children:"DateTimes take the setting lookup, display title, display description, and default value."}),"\n",(0,i.jsxs)(t.p,{children:["Backing type: ",(0,i.jsx)(t.code,{children:"DateTimeOffset"})]}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"DateTime automatically handles timezone conversion, meaning users can share their configs and it will convert to their local time allow things like countdowns to sync up."})}),"\n",(0,i.jsx)(t.h3,{id:"textbox-list",children:"TextBox List"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateTextBoxList(MyModule.TextBoxListStringSetting, "TextBox String List Title", "TextBox String List Description", ["Some", "Default", "Values"]);\r\nCreateTextBoxList(MyModule.TextBoxListIntSetting, "TextBox Int List Title", "TextBox Int List Description", [1, 2, 3]);\r\nCreateTextBoxList(MyModule.TextBoxListFloatSetting, "TextBox Float List Title", "TextBox Float List Description", [0f, 0.5f, 1f]);\n'})}),"\n",(0,i.jsx)(t.p,{children:"TextBox Lists create a list of textboxes. All of the textboxes are require to be the same value, and they support strings, ints, and floats."}),"\n",(0,i.jsxs)(t.p,{children:["Backing type: ",(0,i.jsx)(t.code,{children:"List<string>"}),"/",(0,i.jsx)(t.code,{children:"List<int>"}),"/",(0,i.jsx)(t.code,{children:"List<float>"})," (depending on which values you enter)"]}),"\n",(0,i.jsx)(t.h3,{id:"custom",children:"Custom"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateCustom(MyModule.CustomSetting, new CustomModuleSetting(new ModuleSettingMetadata("My Custom Setting", "Custom setting description", typeof(CustomModuleSettingPage))));\n'})}),"\n",(0,i.jsx)(t.p,{children:"Custom settings takes the setting lookup, the custom setting which requires, at least, the metadata of the display title, display description, and the type of the custom page to render the setting."}),"\n",(0,i.jsx)(t.p,{children:"Creating custom settings requires knowledge of WPF so that you can create the custom page, and is generally not needed unless you're doing very custom modules. Feel free to reach out on Discord as if I can do a more general implementation of a setting and add it to the SDK that would benefit more."}),"\n",(0,i.jsx)(t.h2,{id:"groups",children:"Groups"}),"\n",(0,i.jsx)(t.p,{children:"Setting groups can be made by providing setting lookups:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'CreateGroup("My New Group", MyModule.ToggleSetting, MyModule.SliderIntSetting);\n'})}),"\n",(0,i.jsx)(t.p,{children:"These are only visual and allow for organisation."}),"\n",(0,i.jsx)(t.h2,{id:"retrieving-settings",children:"Retrieving Settings"}),"\n",(0,i.jsx)(t.p,{children:"There are 2 methods you can use to get a setting. One to get the setting, and one to get the setting value. Getting the setting value is a shorthand for getting the setting. You mostly won't need to access the setting directly, but it's useful for when you're making custom settings and need to access anything inside it."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"GetSetting<CustomModuleSetting>(MyModule.CustomSetting);\r\nGetSettingValue<bool>(MyModule.ToggleSetting);\n"})}),"\n",(0,i.jsx)(t.p,{children:"Most of the time you'll be using the bottom method, where this retrieves the backing value of the setting directly. To access the value, use the backing type that is listed for the setting"}),"\n",(0,i.jsxs)(t.p,{children:["The raw value of the setting, if allowed, can be converted. For example, if you have a textbox string list you can either do ",(0,i.jsx)(t.code,{children:"GetSettingValue<IEnumerable<string>>()"})," or ",(0,i.jsx)(t.code,{children:"GetSettingValue<List<string>>()"}),". Both work exactly the same and is completely up to your preference."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>a});var i=n(6540);const s={},o=i.createContext(s);function l(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);